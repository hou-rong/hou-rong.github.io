<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Bash on 海纳百川，有容乃大</title>
    <link>https://hou-rong.github.io/tags/bash/</link>
    <description>Recent content in Bash on 海纳百川，有容乃大</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sat, 10 Dec 2016 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="https://hou-rong.github.io/tags/bash/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Mysql 备份脚本</title>
      <link>https://hou-rong.github.io/post/mysql-%E5%A4%87%E4%BB%BD%E8%84%9A%E6%9C%AC/</link>
      <pubDate>Sat, 10 Dec 2016 00:00:00 +0000</pubDate>
      
      <guid>https://hou-rong.github.io/post/mysql-%E5%A4%87%E4%BB%BD%E8%84%9A%E6%9C%AC/</guid>
      <description> 引入 在工作时没有自动备份 MySql 的习惯，直到有一次 Update 误操作 where 语句的范围写了一个为 True 的值，导致数据错误。还好通过之前的备份恢复，没损失多少数据，这也让我养成经常备份数据的习惯。
备份脚本 #!/bin/sh DUMP=/usr/bin/mysqldump OUT_DIR=/your/backup/dir/ LINUX_USER=root # 你的数据库信息 DB_NAME= DB_USER= DB_PASS= # 修改保存备份的日期 DAYS=7 cd $OUT_DIR DATE=`date +%Y_%m_%d_%H_%M_%S` OUT_SQL=&amp;quot;$DATE.sql&amp;quot; TAR_SQL=&amp;quot;xxxx_bak_$DATE.tar.gz&amp;quot; $DUMP -u$DB_USER -p$DB_PASS $DB_NAME --default-character-set=utf8 --opt -Q -R &amp;gt; $OUT_SQL tar -zcvf $TAR_SQL $OUT_SQL rm $OUT_SQL chown $LINUX_USER:$LINUX_USER $OUT_DIR/$TAR_SQL find $OUT_DIR -name &amp;quot;xxxx_bak*&amp;quot; -type f -mtime +$DAYS -exec rm {} \;  </description>
    </item>
    
  </channel>
</rss>